
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Contribution guides &#8212; PyData Theme 0.10.0rc2 文档</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/thebelab-helper.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'community/topics';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = '/_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'latest';
        </script>
    <link rel="canonical" href="http://127.0.0.1:8000/community/topics.html" />
    <link rel="shortcut icon" href="../_static/logo.svg"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Set up a manual development environment" href="manual.html" />
    <link rel="prev" title="Structure of this theme" href="structure.html" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="zh_CN">  
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div><div class="bd-header-announcement container-fluid" id="header-announcement">
    


<script>
$.get("https://raw.githubusercontent.com/pydata/pydata-sphinx-theme/main/docs/_templates/custom-template.html", success=(data)=>{
      $("#header-announcement").html(`<div class="bd-header-announcement__content">${data}</div>`);
  }).fail(() => {
  console.log("[PST]: Failed to load announcement at: https://raw.githubusercontent.com/pydata/pydata-sphinx-theme/main/docs/_templates/custom-template.html")
});
</script>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fas fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <img src="../_static/logo.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/logo-dark.svg" class="logo__image only-dark" alt="Logo image">
  
  
    <p class="title logo__title">PyData Theme</p>
  
</a>
    
  </div>

  
  <div class=" navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-toggle="dropdown">
        latest  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>
      </div>
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../user_guide/index.html">
  用户指南
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Community Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../examples/index.html">
  Examples
 </a>
</li>


                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/pydata/pydata-sphinx-theme/releases">Changelog<i class="fas fa-external-link-alt"></i></a>
                </li>
                <div class="nav-item dropdown">
                    <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        More
                    </button>
                    <div class="dropdown-menu">
                        
                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://pydata.org">PyData<i class="fas fa-external-link-alt"></i></a>
                </li>

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://numfocus.org/">NumFocus<i class="fas fa-external-link-alt"></i></a>
                </li>

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://numfocus.org/donate">Donate to NumFocus<i class="fas fa-external-link-alt"></i></a>
                </li>
                    </div>
                </div>
                
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="搜索">
  <i class="fas fa-search"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://github.com/pydata/pydata-sphinx-theme" title="GitHub" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://twitter.com/PyData" title="Twitter" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://pypi.org/project/pydata-sphinx-theme" title="PyPI" class="nav-link" rel="noopener" target="_blank"><span><i class="fas fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          <a href="https://pydata.org" title="PyData" class="nav-link" rel="noopener" target="_blank"><img src="../_static/pydata-logo.png" class="icon-link-image" alt="PyData"/></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="搜索">
  <i class="fas fa-search"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fas fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container container-xl">
    <div class="bd-container__inner row">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="导航">
      Site Navigation
    </p>
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-toggle="dropdown">
        latest  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>
      </div>
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../user_guide/index.html">
  用户指南
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Community Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../examples/index.html">
  Examples
 </a>
</li>


                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/pydata/pydata-sphinx-theme/releases">Changelog<i class="fas fa-external-link-alt"></i></a>
                </li>
                <div class="nav-item dropdown">
                    <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        More
                    </button>
                    <div class="dropdown-menu">
                        
                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://pydata.org">PyData<i class="fas fa-external-link-alt"></i></a>
                </li>

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://numfocus.org/">NumFocus<i class="fas fa-external-link-alt"></i></a>
                </li>

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://numfocus.org/donate">Donate to NumFocus<i class="fas fa-external-link-alt"></i></a>
                </li>
                    </div>
                </div>
                
</ul>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://github.com/pydata/pydata-sphinx-theme" title="GitHub" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://twitter.com/PyData" title="Twitter" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://pypi.org/project/pydata-sphinx-theme" title="PyPI" class="nav-link" rel="noopener" target="_blank"><span><i class="fas fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          <a href="https://pydata.org" title="PyData" class="nav-link" rel="noopener" target="_blank"><img src="../_static/pydata-logo.png" class="icon-link-image" alt="PyData"/></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <div class="bd-toc-item navbar-nav">
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contributor Guide
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="setup.html">
   Get started with development
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="structure.html">
   Structure of this theme
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Contribution guides
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="manual.html">
   Set up a manual development environment
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  About the project
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="contributors.html">
   Contributors to this theme
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="policies.html">
   Team policies and guidelines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="inspiration.html">
   Inspiration for design and UX
  </a>
 </li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>

      
      
      
        <div class="bd-sidebar-secondary bd-toc">
          
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fas fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#make-a-release">
   Make a release
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#update-javascript-dependencies-and-their-versions">
   Update JavaScript dependencies and their versions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-nox">
   Using
   <code class="docutils literal notranslate">
    <span class="pre">
     nox
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#re-install-dependencies">
     Re-install dependencies
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#use-nox-with-your-global-environment">
     Use
     <code class="docutils literal notranslate">
      <span class="pre">
       nox
      </span>
     </code>
     with your global environment
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-pre-commit">
   Using
   <code class="docutils literal notranslate">
    <span class="pre">
     pre-commit
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#skip-the-pre-commit-checks">
     Skip the pre-commit checks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#run-pre-commit-on-all-files">
     Run pre-commit on all files
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#web-assets-css-js-fonts">
   Web assets (CSS/JS/Fonts)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compile-and-bundle-assets">
     Compile and bundle assets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#styles-scss-and-scripts-js">
     Styles (SCSS) and Scripts (JS)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#vendored-scripts">
     Vendored scripts
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fontawesome-icons">
     FontAwesome icons
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#jinja-macros">
     Jinja macros
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#accessibility-checks">
   Accessibility checks
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#supporting-new-python-versions">
   Supporting new Python versions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#supporting-new-sphinx-versions">
   Supporting new Sphinx versions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#update-our-kitchen-sink-documents">
   Update our kitchen sink documents
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#update-the-example-gallery">
   Update the example gallery
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   Update JavaScript dependencies and their versions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pydata-package-support">
   PyData package support
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ignore-formatting-commits-with-git-blame">
   Ignore formatting commits with
   <code class="docutils literal notranslate">
    <span class="pre">
     git
    </span>
    <span class="pre">
     blame
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-gallery-grid-directive">
   The
   <code class="docutils literal notranslate">
    <span class="pre">
     gallery-grid
    </span>
   </code>
   directive
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#page-level-configuration">
   Page-level configuration
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  

<div class="tocsection editthispage">
    <a href="https://github.com/pydata/pydata-sphinx-theme/edit/main/docs/community/topics.md">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="../_sources/community/topics.md">
        <i class="fas fa-file-alt"></i> 显示源代码
    </a>
</div>

</div>

        </div>
      
      

      
      
      <div class="bd-content col">
          
          <div class="bd-header-article">
              
          </div>

          
          
          <article class="bd-article" role="main">
             <section id="contribution-guides">
<h1>Contribution guides<a class="headerlink" href="#contribution-guides" title="永久链接至标题">#</a></h1>
<p>These sections cover common operations and topics that are relevant to developing this theme.</p>
<section id="make-a-release">
<h2>Make a release<a class="headerlink" href="#make-a-release" title="永久链接至标题">#</a></h2>
<p>This theme uses GitHub tags and releases to automatically push new releases to
PyPI.
Follow these steps to make a release:</p>
<ul class="simple">
<li><p>Familiarize yourself with <a class="reference internal" href="policies.html#policies-release"><span class="std std-ref">our Release guidelines</span></a> and decide if it is time for a release.</p></li>
<li><p>Copy the release infrustructions in <a class="reference external" href="https://github.com/pydata/pydata-sphinx-theme/wiki/Release-checklist#release-instructions">the release checklist</a>.</p></li>
<li><p>Paste them into a new issue to coordinate the release.</p></li>
<li><p>Follow the checklist.</p></li>
</ul>
</section>
<section id="update-javascript-dependencies-and-their-versions">
<h2>Update JavaScript dependencies and their versions<a class="headerlink" href="#update-javascript-dependencies-and-their-versions" title="永久链接至标题">#</a></h2>
<p>The javascript dependencies for this package are defined in <code class="docutils literal notranslate"><span class="pre">package.json</span></code>, and broken down into a few categories like <code class="docutils literal notranslate"><span class="pre">dependencies</span></code> and <code class="docutils literal notranslate"><span class="pre">devDependencies</span></code>.</p>
<p>To update or add JS dependency, modify (or append to) the list of packages that are listed in each of these sections.
The next time you build the documentation (either with <code class="docutils literal notranslate"><span class="pre">nox</span></code> or with <code class="docutils literal notranslate"><span class="pre">stb</span></code>), these new dependencies will be installed and bundled with the theme.</p>
</section>
<section id="using-nox">
<h2>Using <code class="docutils literal notranslate"><span class="pre">nox</span></code><a class="headerlink" href="#using-nox" title="永久链接至标题">#</a></h2>
<p>Here are a few extra tips for using <code class="docutils literal notranslate"><span class="pre">nox</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>The <a class="reference external" href="https://nox.thea.codes/en/stable/usage.html"><code class="docutils literal notranslate"><span class="pre">nox</span></code> command line documentation</a> has a lot of helpful tips for extra functionality you can enable with the CLI.</p>
</div>
<section id="re-install-dependencies">
<h3>Re-install dependencies<a class="headerlink" href="#re-install-dependencies" title="永久链接至标题">#</a></h3>
<p>To re-execute the installation commands, use this pattern:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nox -s docs -- reinstall
</pre></div>
</div>
<p>Or to completely remove the environment generated by <code class="docutils literal notranslate"><span class="pre">nox</span></code> and start from scratch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>rm -rf .nox/docs
</pre></div>
</div>
</section>
<section id="use-nox-with-your-global-environment">
<h3>Use <code class="docutils literal notranslate"><span class="pre">nox</span></code> with your global environment<a class="headerlink" href="#use-nox-with-your-global-environment" title="永久链接至标题">#</a></h3>
<p>If you’d like to use <code class="docutils literal notranslate"><span class="pre">nox</span></code> with your <strong>global</strong> environment (the one from which you are calling <code class="docutils literal notranslate"><span class="pre">nox</span></code>), you can do so with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nox --force-venv-backend none

<span class="gp"># </span>alternatively:
<span class="gp">$ </span>nox --no-venv
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">none</span></code> will re-use your current global environment.
See
<a class="reference external" href="https://nox.thea.codes/en/stable/usage.html#forcing-the-sessions-backend">the nox documentation</a> for more details.</p>
</section>
</section>
<section id="using-pre-commit">
<h2>Using <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code><a class="headerlink" href="#using-pre-commit" title="永久链接至标题">#</a></h2>
<p>Here are a few tips for using <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code>:</p>
<section id="skip-the-pre-commit-checks">
<h3>Skip the pre-commit checks<a class="headerlink" href="#skip-the-pre-commit-checks" title="永久链接至标题">#</a></h3>
<p>Run the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git commit --no-verify
</pre></div>
</div>
</section>
<section id="run-pre-commit-on-all-files">
<h3>Run pre-commit on all files<a class="headerlink" href="#run-pre-commit-on-all-files" title="永久链接至标题">#</a></h3>
<p>By default, <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> will run its checks on files that have been modified in a commit.
To instead run it on all files, use this command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pre-commit run --all-files

<span class="gp"># </span>Alternatively
<span class="gp">$ </span>pre-commit run -a
</pre></div>
</div>
</section>
</section>
<section id="web-assets-css-js-fonts">
<h2>Web assets (CSS/JS/Fonts)<a class="headerlink" href="#web-assets-css-js-fonts" title="永久链接至标题">#</a></h2>
<p>This theme includes several web assets to ease development and design.
The configuration for our asset compilation is in <code class="docutils literal notranslate"><span class="pre">webpack.config.js</span></code>.</p>
<section id="compile-and-bundle-assets">
<h3>Compile and bundle assets<a class="headerlink" href="#compile-and-bundle-assets" title="永久链接至标题">#</a></h3>
<p>When assets are compiled, static versions are placed in various places in the theme’s static folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">src</span><span class="o">/</span><span class="n">pydata_sphinx_theme</span><span class="o">/</span><span class="n">theme</span><span class="o">/</span><span class="n">pydata_sphinx_theme</span><span class="o">/</span><span class="n">static</span>
</pre></div>
</div>
<p>For many assets, a <code class="docutils literal notranslate"><span class="pre">&lt;hash&gt;</span></code> is generated and appended to the end of its reference in the HTML templates of the theme.
This ensures the correct asset versions are served when viewers return to your
site after upgrading the theme.</p>
<p>To compile the assets and bundle them with the theme, run this command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nox -s compile
</pre></div>
</div>
</section>
<section id="styles-scss-and-scripts-js">
<h3>Styles (SCSS) and Scripts (JS)<a class="headerlink" href="#styles-scss-and-scripts-js" title="永久链接至标题">#</a></h3>
<p>There are two relevant places for CSS/JS assets:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src/pydata_sphinx_theme/assets/styles</span></code> has source files for SCSS assets. These will be compiled to CSS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/pydata_sphinx_theme/assets/scripts</span></code> has source files for JS assets. These will be compiled to JS and import several vendored libraries (like Bootstrap).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/pydata_sphinx_theme/theme/pydata_sphinx_theme/static</span></code> has compiled versions of these assets (e.g. CSS files). This folder is not tracked in <code class="docutils literal notranslate"><span class="pre">.git</span></code> history, but it is bundled with the theme’s distribution.</p></li>
</ul>
</section>
<section id="vendored-scripts">
<h3>Vendored scripts<a class="headerlink" href="#vendored-scripts" title="永久链接至标题">#</a></h3>
<p>We vendor several packages in addition to our own CSS and JS.
For example, Bootstrap, JQuery, and Popper.
This is configured in the <code class="docutils literal notranslate"><span class="pre">webpack.config.js</span></code> file, and imported in the respective <code class="docutils literal notranslate"><span class="pre">SCSS</span></code> or <code class="docutils literal notranslate"><span class="pre">JS</span></code> file in our assets folder.</p>
</section>
<section id="fontawesome-icons">
<h3>FontAwesome icons<a class="headerlink" href="#fontawesome-icons" title="永久链接至标题">#</a></h3>
<p>Three “styles” of the <a class="reference external" href="https://fontawesome.com/icons?m=free">FontAwesome 5 Free</a>
icon font are used for <a class="reference internal" href="../user_guide/header-links.html#icon-links"><span class="std std-ref">icon links</span></a> and admonitions, and is
the only <code class="docutils literal notranslate"><span class="pre">vendored</span></code> font.</p>
<ul class="simple">
<li><p>It is managed as a dependency in <code class="docutils literal notranslate"><span class="pre">package.json</span></code></p></li>
<li><p>Copied directly into the site statics at compilation, including licenses</p></li>
<li><p>Partially preloaded to reduce flicker and artifacts of early icon renders</p></li>
<li><p>Configured in <code class="docutils literal notranslate"><span class="pre">webpack.config.js</span></code></p></li>
</ul>
</section>
<section id="jinja-macros">
<h3>Jinja macros<a class="headerlink" href="#jinja-macros" title="永久链接至标题">#</a></h3>
<p>Our Webpack build generates a collection of <a class="reference external" href="https://jinja.palletsprojects.com/en/3.0.x/templates/#macros">Jinja macros</a> in the <code class="docutils literal notranslate"><span class="pre">static/webpack-macros.html</span></code> file.</p>
<p>These macros are imported in the main <code class="docutils literal notranslate"><span class="pre">layout.html</span></code> file, and then inserted at various places in the page to link the static assets.</p>
<p>Some of the assets <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types/preload">are “preloaded”</a>, meaning that the browser begins requesting these resources before they’re actually needed.
In particular, our JavaScript assets are preloaded in <code class="docutils literal notranslate"><span class="pre">&lt;head&gt;</span></code>, and the scripts are actually loaded at the end of <code class="docutils literal notranslate"><span class="pre">&lt;body&gt;</span></code>.</p>
</section>
</section>
<section id="accessibility-checks">
<h2>Accessibility checks<a class="headerlink" href="#accessibility-checks" title="永久链接至标题">#</a></h2>
<p>The accessibility checking tools can find a number of common HTML patterns which
assistive technology can’t help users understand.
We run a <a class="reference external" href="https://developers.google.com/web/tools/lighthouse">Lighthouse</a> job in our CI/CD, which generates a “score” for all pages in our <strong>Kitchen Sink</strong> example documentation.
The configuration for Lighthouse is in:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.github/workflows/lighthouserc.json</span></code></p></li>
</ul>
<p>For more information about configuring lighthouse, see <a class="reference external" href="https://github.com/GoogleChrome/lighthouse-ci/blob/main/docs/configuration.md">the lighthouse documentation</a>.
For more information about Accessibility in general, see <a class="reference internal" href="../user_guide/accessibility.html"><span class="doc std std-doc">可访问性</span></a>.</p>
</section>
<section id="supporting-new-python-versions">
<h2>Supporting new Python versions<a class="headerlink" href="#supporting-new-python-versions" title="永久链接至标题">#</a></h2>
<p>For releases of Python, we aim to follow this approach<a class="footnote-reference brackets" href="#id5" id="id1">1</a>:</p>
<blockquote>
<div><p>For a new major/minor release of this theme, we support any minor Python versions released in the last 3.5 years (42 months), as defined in <a class="reference external" href="https://endoflife.date/python">the EOL schedule for Python</a><a class="footnote-reference brackets" href="#id6" id="id2">2</a>.</p>
</div></blockquote>
<p>We define “support” as testing against each of these versions, so that users can be assured they will not trigger any bugs.</p>
<p>For example, if we made a minor release tomorrow, we’d <a class="reference external" href="https://endoflife.date/python">look at the EOL schedule for Python</a> and support all of the versions that fall within a 3.5 year window.</p>
</section>
<section id="supporting-new-sphinx-versions">
<h2>Supporting new Sphinx versions<a class="headerlink" href="#supporting-new-sphinx-versions" title="永久链接至标题">#</a></h2>
<p>For supporting versions of Sphinx, we aim to follow this approach:</p>
<blockquote>
<div><p>We support the latest released version of Sphinx that is <strong>older than 6 months</strong>.
We unofficially support earlier released versions of Sphinx, but may increase the lower-bound in our dependency pin without warning if needed<a class="footnote-reference brackets" href="#id6" id="id3">2</a>.</p>
</div></blockquote>
<p>When a new pre-release of Sphinx is released, we should follow these steps:</p>
<ul class="simple">
<li><p>Ensure that our tests are passing. We run our tests with any <strong>pre-releases</strong> of Sphinx, so we can test major errors quickly and make the necessary changes.</p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/changes.html">Look at the Sphinx Changelog</a> and make sure there are no changes that might break things that aren’t captured by our tests.</p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/extdev/deprecated.html">Look at the deprecated API changes</a> and make sure there are no changes that might break things that aren’t captured by our tests.</p></li>
<li><p><a class="reference external" href="https://docutils.sourceforge.io/RELEASE-NOTES.html">Look at the docutils changelog</a> in case there’s a new docutils version supported that breaks something.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This theme does not pin the upper version of Sphinx that it supports.
If a Sphinx release causes major breaking changes for our users, and we do not have the capacity to update our code and release a fix, we may temporarily pin the upper bound of Sphinx we support until this is fixed.</p>
</div>
</section>
<section id="update-our-kitchen-sink-documents">
<h2>Update our kitchen sink documents<a class="headerlink" href="#update-our-kitchen-sink-documents" title="永久链接至标题">#</a></h2>
<p>The <a class="reference internal" href="../examples/kitchen-sink/index.html"><span class="doc std std-doc">kitchen sink reference</span></a> is for demonstrating as much syntax and style for Sphinx builds as possible.
It is copied directly from the <a class="reference external" href="https://sphinx-themes.org/"><code class="docutils literal notranslate"><span class="pre">sphinx-themes.org</span></code> documentation</a> so that we use standardized reference docs compared with other communities.
The source files for these pages are stored <a class="reference external" href="https://github.com/sphinx-themes/sphinx-themes.org/raw/master/sample-docs/kitchen-sink/">in the <code class="docutils literal notranslate"><span class="pre">sphinx-themes.org</span></code> repository</a>.</p>
<p>To update the kitchen sink source files, there is a helper Python script that will loop through the known kitchen sink files and copy over the latest text.
To use it, run the following from the root of the repository:</p>
</section>
<section id="update-the-example-gallery">
<h2>Update the example gallery<a class="headerlink" href="#update-the-example-gallery" title="永久链接至标题">#</a></h2>
<p>This theme’s documentation contains a gallery of sites that use this theme for their documentation.
The images are automatically generated during ReadTheDocs builds, but are <strong>not</strong> automatically generated on local or test builds (to save time).</p>
<p>If you build the documentation locally without first generating these images you may get Sphinx warnings or errors, but this should be fine as long as the images build on ReadTheDocs tests.</p>
<p>If you’d like to build these images locally to preview in the theme, follow these steps:</p>
<ol class="arabic">
<li><p>Install <a class="reference external" href="https://playwright.dev/python/">playwright</a> and the Chromium browser add-on:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install playwright
$ playwright install chromium
</pre></div>
</div>
</li>
<li><p>Execute the gallery generation script from the repository root:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python ./docs/scripts/generate_gallery_images.py
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The newly generated images will be pushed to the distant repository.</p>
</div>
</section>
<section id="id4">
<h2>Update JavaScript dependencies and their versions<a class="headerlink" href="#id4" title="永久链接至标题">#</a></h2>
<p>There are two kinds of dependency definitions in this theme:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">package.json</span></code> contains the <strong>base dependencies</strong> for this theme. They are broken down into a few categories like <code class="docutils literal notranslate"><span class="pre">dependencies</span></code> and <code class="docutils literal notranslate"><span class="pre">devDependencies</span></code>. It is edited by the maintainers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package-lock.json</span></code> contains the complete <strong>frozen dependency chain</strong> for this theme, including all sub-dependencies of our base dependencies. It is automatically generated.</p></li>
</ul>
<p>To update or add a JS dependency, follow these steps:</p>
<ol class="arabic">
<li><p><strong>Edit <code class="docutils literal notranslate"><span class="pre">package.json</span></code></strong> by adding or modifying a dependency.</p></li>
<li><p><strong>Re-generate <code class="docutils literal notranslate"><span class="pre">package-lock.json</span></code></strong> in order to create a new set of frozen dependencies for the theme. To do this, run the following command from <a class="reference external" href="https://github.com/pradyunsg/sphinx-theme-builder">the Sphinx Theme Builder</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stb</span> <span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">include</span><span class="o">=</span><span class="n">dev</span>
</pre></div>
</div>
</li>
<li><p><strong>Commit both files</strong> to the repository. When new people pull in the latest commits, their <code class="docutils literal notranslate"><span class="pre">npm</span></code> environment will automatically update according to the new lockfile.</p></li>
</ol>
</section>
<section id="pydata-package-support">
<h2>PyData package support<a class="headerlink" href="#pydata-package-support" title="永久链接至标题">#</a></h2>
<p>This theme is designed by and for the PyData community, and so there are a few places where we special-case support for packages in this community.</p>
<p>We define CSS rules that ensure PyData content in Sphinx looks reasonable on both light and dark themes.
If we hear reports from maintainers that we could change something in this theme that would make their documentation look better, and if this change is sustainable for us, then we should do so.</p>
<p>We store our PyData-specific SCSS in two relevant files, both in the <code class="docutils literal notranslate"><span class="pre">src/pydata_sphinx_theme/assets/styles/</span></code> folder:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">extensions/_execution.scss</span></code> - styles for Sphinx libraries that execute and insert code into the documentation. For example, MyST-NB, Jupyter Sphinx, and the Matplotlib <code class="docutils literal notranslate"><span class="pre">plot</span></code> directive. Most PyData support should go here via generic improvements that all packages benefit from.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extensions/_pydata.scss</span></code> - styles for specific libraries in the PyData ecosystem. In general we should try to keep this minimal because it is mostly special-casing single library quirks.</p></li>
</ul>
</section>
<section id="ignore-formatting-commits-with-git-blame">
<h2>Ignore formatting commits with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">blame</span></code><a class="headerlink" href="#ignore-formatting-commits-with-git-blame" title="永久链接至标题">#</a></h2>
<p>When making commits that are strictly formatting/style changes (e.g., after running a new version of black or running pyupgrade after dropping an old Python version), add the commit hash to <code class="docutils literal notranslate"><span class="pre">.git-blame-ignore-revs</span></code>, so <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">blame</span></code> can ignore the change.</p>
<p>For more details, see:</p>
<ul class="simple">
<li><p>https://git-scm.com/docs/git-config#Documentation/git-config.txt-blameignoreRevsFile</p></li>
<li><p>https://github.com/pydata/pydata-sphinx-theme/pull/713</p></li>
</ul>
</section>
<section id="the-gallery-grid-directive">
<h2>The <code class="docutils literal notranslate"><span class="pre">gallery-grid</span></code> directive<a class="headerlink" href="#the-gallery-grid-directive" title="永久链接至标题">#</a></h2>
<p>There are a few places where we use <code class="docutils literal notranslate"><span class="pre">sphinx-design</span></code> to generate “galleries” of grids with structured text and images.
We’ve created a little Sphinx directive to make it easier to repeat this process in our documentation and to avoid repeating ourselves too much.
It is located in the <code class="docutils literal notranslate"><span class="pre">docs/scripts/</span></code> folder in a dedicated module, and re-used throughout our documentation.</p>
</section>
<section id="page-level-configuration">
<h2>Page-level configuration<a class="headerlink" href="#page-level-configuration" title="永久链接至标题">#</a></h2>
<p>In some areas we support page-level configuration to control behavior on a per-page basis.
Try to make this configuration follow the <code class="docutils literal notranslate"><span class="pre">html_theme_options</span></code> structure of our configuration as much as possibl.
Begin them with <code class="docutils literal notranslate"><span class="pre">html_theme</span></code>, and separate “nested” configuration sections with periods (<code class="docutils literal notranslate"><span class="pre">.</span></code>).
This is <a class="reference external" href="https://toml.io/en/v1.0.0#keys">similar to how the TOML language defines nested configuration</a>.</p>
<p>For example, to remove the secondary sidebar, we use a page metadata key like this:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="nc">:html_theme.sidebar_secondary.remove:</span> true
</pre></div>
</div>
<p>Note how the period naturally separates nested sections, and looks very similar to what we’d expect if we put this in a Python dictionary in <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;sidebar_secondary&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;remove&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Our support for Python versions is inspired by <a class="reference external" href="https://numpy.org/neps/nep-0029-deprecation_policy.html">NEP 029</a>.</p>
</dd>
<dt class="label" id="id6"><span class="brackets">2</span><span class="fn-backref">(<a href="#id2">1</a>,<a href="#id3">2</a>)</span></dt>
<dd><p>These policies are goals, but not promises. We are a volunteer-led community with limited time. Consider these sections to be our intention, but we recognize that we may not always be able to meet these criteria if we do not have capacity to do so. We welcome contributions from others to help us more sustainably meet these goals!</p>
</dd>
</dl>
</section>
</section>

<div class="section">
   
</div>

          </article>
          

          
          
          <footer class="bd-footer-article">
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="structure.html" title="上一页 页">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">上一页</p>
          <p class="prev-next-title">Structure of this theme</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="manual.html" title="下一页 页">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">下一页</p>
      <p class="prev-next-title">Set up a manual development environment</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
          </footer>
          
      </div>
      
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2019, PyData Community.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>