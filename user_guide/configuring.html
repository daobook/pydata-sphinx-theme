
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="pydata-sphinx-theme 的配置选项" lang="en" name="description" xml:lang="en" />

    <title>配置 &#8212; PyData Sphinx Theme 0.8.1 文档</title>
    <script>
      document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
      document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
    </script>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=fb52004a9691e5b75515" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=fb52004a9691e5b75515" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=fb52004a9691e5b75515">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/thebelab-helper.js"></script>
    <script src="../_static/translations.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="canonical" href="http://127.0.0.1:8000/user_guide/configuring.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="从主题 sections 添加/删除项" href="sections.html" />
    <link rel="prev" title="安装" href="install.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="zh_CN">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60" data-default-mode="">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">PyData Sphinx Theme</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  用户指南
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../contribute/index.html">
  贡献
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../demo/index.html">
  Demo site
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/pydata/pydata-sphinx-theme/releases">Changelog<i class="fas fa-external-link-alt"></i></a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://pandas.pydata.org/pandas-docs/stable/">Pandas Docs<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-primary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        v0.8.1  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables user_guide/configuring and {'json_url': 'https://daobook.github.io/pydata-sphinx-theme/_static/switcher.json', 'version_match': 'v0.8.1'}.
-->

<script type="text/javascript">
// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "user_guide/configuring.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://daobook.github.io/pydata-sphinx-theme/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "user_guide/configuring.html";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            // Add dataset values for the version and name in case people want
            // to apply CSS styling based on this information.
            node.dataset["versionName"] = entry.name;
            node.dataset["version"] = entry.version;

            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's  variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "v0.8.1") {
                node.classList.add("active");
                let btn = document.getElementById("version_switcher_button");
                btn.innerText = btn.dataset["activeVersionName"] = entry.name;
                btn.dataset["activeVersion"] = entry.version;
            }
        });
    });
})();
</script>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/daobook/pydata-sphinx-theme" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/pandas_dev" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/pydata-sphinx-theme" rel="noopener" target="_blank" title="PyPI"><span><i class="fas fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pandas.pydata.org" rel="noopener" target="_blank" title="Pandas"><img src="../_static/pandas-square.svg" class="icon-link-image" alt="Pandas"/></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="install.html">
   安装
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   配置
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sections.html">
   从主题 sections 添加/删除项
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="customizing.html">
   自定义主题
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="accessibility.html">
   可访问性
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configure-project-logo">
   配置项目 logo
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configure-default-theme">
   配置默认主题
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configure-pygment-theme">
   配置 pygment 主题
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configure-icon-links">
   配置 icon 链接
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fontawesome-icons">
     FontAwesome icons
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#image-icons">
     图像图标
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#icon-link-shortcuts">
     图标链接快捷键
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-external-links-to-your-nav-bar">
   添加外部链接到你的导航栏
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-favicons">
   添加 favicon
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configure-the-sidebar">
   配置侧边栏
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#navigation-depth-and-collapsing-the-sidebar">
   导航深度和折叠侧边栏
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#control-how-many-navigation-levels-are-shown-by-default">
     控制默认显示多少个导航级别
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#collapse-entire-toctree-captions-parts">
       折叠整个 toctree captions / parts
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selectively-remove-pages-from-your-sidebar">
     有选择地从侧边栏删除页面
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#control-the-number-of-navigation-levels">
     控制导航级别的数量
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#remove-reveal-buttons-for-sidebar-items">
     删除侧边栏项目的显示按钮
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hiding-the-previous-and-next-buttons">
   隐藏上一页和下一页按钮
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#add-a-dropdown-to-switch-between-docs-versions">
   添加下拉菜单来切换文档版本
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#add-a-json-file-to-define-your-switcher-s-versions">
     添加 JSON 文件来定义 switcher 的版本
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#configure-switcher-json-url">
     配置
     <code class="docutils literal notranslate">
      <span class="pre">
       switcher['json_url']
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#configure-switcher-version-match">
     配置
     <code class="docutils literal notranslate">
      <span class="pre">
       switcher['version_match']
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#specify-where-to-display-the-switcher">
     指定显示 switcher 的位置
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#style-the-switcher-buttons">
     switcher 按钮样式
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#add-an-edit-this-page-button">
   添加“编辑此页面”按钮
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#github">
     GitHub
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gitlab">
     GitLab
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitbucket">
     Bitbucket
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#custom-edit-url">
     自定义编辑URL
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configure-the-search-bar-position">
   配置搜索栏位置
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configure-the-search-bar-text">
   配置搜索栏文本
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#google-analytics">
   Google 分析
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#changing-pages-with-keyboard-presses">
   用键盘按键改变页面
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#show-more-levels-of-the-in-page-toc-by-default">
   默认情况下显示页内 TOC 的更多级别
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#remove-the-sidebar-from-some-pages">
   从一些页面中删除侧边栏
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configure-the-navbar-center-alignment">
   配置导航栏居中对齐
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-ethical-advertisements-to-your-sidebar-in-readthedocs">
   在 ReadTheDocs 的侧边栏添加 ethical 广告
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#improve-build-speed-and-performance">
   提高构建速度和性能
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/pandas-dev/pydata-sphinx-theme/edit/master/docs/user_guide/configuring.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="configuration">
<span id="id1"></span><h1>配置<a class="headerlink" href="#configuration" title="永久链接至标题">#</a></h1>
<p>有很多选项可以配置你的网站的外观和感觉。所有配置选项都通过 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> 文件中的 <code class="docutils literal notranslate"><span class="pre">html_theme_options</span></code> 变量传递。这是带有 <code class="docutils literal notranslate"><span class="pre">key:</span> <span class="pre">val</span></code> 对的字典，你可以用各种方式配置它。本页描述了可供您选择的选项。</p>
<section id="configure-project-logo">
<h2>配置项目 logo<a class="headerlink" href="#configure-project-logo" title="永久链接至标题">#</a></h2>
<p>要添加 logo，放在你的导航栏的左边，把 logo 文件放在你的文档路径的 _static 文件夹下，并使用以下配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_logo</span> <span class="o">=</span> <span class="s2">&quot;_static/logo.png&quot;</span>
</pre></div>
</div>
<p>默认情况下，logo 链接到 <code class="docutils literal notranslate"><span class="pre">master_doc</span></code> (通常是文档的第一页)。如果你想要它链接到另一个页面或使用外部链接，请使用以下配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;logo_link&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;other page or external link&gt;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="configure-default-theme">
<span id="icon-links"></span><h2>配置默认主题<a class="headerlink" href="#configure-default-theme" title="永久链接至标题">#</a></h2>
<p>用户可以修改主题模式。默认情况下，登陆文档将切换到自动模式。您可以将此值指定为 <code class="docutils literal notranslate"><span class="pre">auto</span></code>、<code class="docutils literal notranslate"><span class="pre">dark</span></code>、<code class="docutils literal notranslate"><span class="pre">light</span></code> 中的一个。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_context</span> <span class="o">=</span> <span class="p">{</span>
   <span class="o">...</span>
   <span class="s2">&quot;default_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="configure-pygment-theme">
<h2>配置 pygment 主题<a class="headerlink" href="#configure-pygment-theme" title="永久链接至标题">#</a></h2>
<p>由于 Sphinx 主题支持多种模式，因此可以通过修改 <code class="docutils literal notranslate"><span class="pre">pygment_light_style</span></code> 和 <code class="docutils literal notranslate"><span class="pre">pygment_style_style</span></code> 来修改每一种模式的高亮颜色代码。你可以在这个页面上检查可用的py颜色。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_contexts</span> <span class="o">=</span> <span class="p">{</span>
   <span class="o">...</span>
   <span class="s2">&quot;pygment_light_style&quot;</span><span class="p">:</span> <span class="s2">&quot;tango&quot;</span><span class="p">,</span>
   <span class="s2">&quot;pygment_dark_style&quot;</span><span class="p">:</span> <span class="s2">&quot;native&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition danger">
<p class="admonition-title">危险</p>
<p>本地 Sphinx 选项 <cite>pygments_style</cite> 将被这个主题覆盖。</p>
</div>
</section>
<section id="configure-icon-links">
<h2>配置 icon 链接<a class="headerlink" href="#configure-icon-links" title="永久链接至标题">#</a></h2>
<p>你可以添加图标链接显示在主导航栏的右侧。</p>
<p>这些链接的形式如下：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;icon_links&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="c1"># Label for this link</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;GitHub&quot;</span><span class="p">,</span>
            <span class="c1"># URL where the link will redirect</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/&lt;your-org&gt;/&lt;your-repo&gt;&quot;</span><span class="p">,</span>  <span class="c1"># required</span>
            <span class="c1"># Icon class (if &quot;type&quot;: &quot;fontawesome&quot;), or path to local image (if &quot;type&quot;: &quot;local&quot;)</span>
            <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="s2">&quot;fab fa-github-square&quot;</span><span class="p">,</span>
            <span class="c1"># The type of image to be used (see below for details)</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fontawesome&quot;</span><span class="p">,</span>
        <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>有两种图标你可以使用，描述如下：</p>
<section id="fontawesome-icons">
<h3>FontAwesome icons<a class="headerlink" href="#fontawesome-icons" title="永久链接至标题">#</a></h3>
<p><a class="reference external" href="https://fontawesome.com/">FontAwesome</a> 是网站中常用的图标集合。它们包括通用形状的图标（例如，“向下箭头”），以及特定 brand 的图标（例如，“github”）。</p>
<p>你可以通过指定 <code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;fontawesome&quot;</span></code> 来使用 FontAwesome 图标，并在 <code class="docutils literal notranslate"><span class="pre">icon</span></code> 值中指定 FontAwesome 类。<code class="docutils literal notranslate"><span class="pre">icon</span></code> 的值可以是任何完整的 <a class="reference external" href="https://fontawesome.com/icons?d=gallery&amp;m=free">FontAwesome 5 Free</a> 图标。除了主要的图标类，例如 <code class="docutils literal notranslate"><span class="pre">fa-cat</span></code>， “style” 类也必须被提供，例如 <em>branding</em> 的 <cite>fas</cite>， <em>solid</em> 的 <cite>fas</cite>。</p>
<p>这里有几个例子：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;icon_links&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;GitHub&quot;</span><span class="p">,</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/&lt;your-org&gt;/&lt;your-repo&gt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="s2">&quot;fab fa-github-square&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fontawesome&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;GitLab&quot;</span><span class="p">,</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://gitlab.com/&lt;your-org&gt;/&lt;your-repo&gt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="s2">&quot;fab fa-gitlab&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fontawesome&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Twitter&quot;</span><span class="p">,</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://twitter.com/&lt;your-handle&gt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="s2">&quot;fab fa-twitter-square&quot;</span><span class="p">,</span>
            <span class="c1"># The default for `type` is `fontawesome` so it is not actually required in any of the above examples as it is shown here</span>
        <span class="p">},</span>
    <span class="p">],</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">提示</p>
<p>要获得像 “Twitter blue” 这样的自定义颜色，在你的 CSS 中使用以下方法，例如 <code class="docutils literal notranslate"><span class="pre">custom.css</span></code>：</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">i</span><span class="p">.</span><span class="nc">fa-twitter-square</span><span class="p">:</span><span class="nd">before</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#55acee</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>这已经被添加到有 <em>shortcuts</em> 的 brand。</p>
</div>
</section>
<section id="image-icons">
<h3>图像图标<a class="headerlink" href="#image-icons" title="永久链接至标题">#</a></h3>
<p>If you’d like to display an icon image that is not in the FontAwesome icons library,
you may instead specify a URL or a path to a local image that will be used for the icon.</p>
<p><strong>要在 web 上显示图像</strong>，使用 <code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;url&quot;</span></code>，并在 <code class="docutils literal notranslate"><span class="pre">icon</span></code> 值中提供图像的 URL。例如：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;icon_links&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Pandas&quot;</span><span class="p">,</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://pandas.pydata.org&quot;</span><span class="p">,</span>
            <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="s2">&quot;https://raw.githubusercontent.com/pydata/pydata-sphinx-theme/master/docs/_static/pandas-square.svg&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;url&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">],</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>To display a local image from a file path</strong>, use <code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;local&quot;</span></code>, and add a path to an image
relative to your documentation root in the <code class="docutils literal notranslate"><span class="pre">icon</span></code> value.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;icon_links&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;PyData&quot;</span><span class="p">,</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://pydata.org&quot;</span><span class="p">,</span>
            <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="s2">&quot;_static/pydata-logo-square.png&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">],</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>使用 <code class="docutils literal notranslate"><span class="pre">.svg</span></code> 图像实现更高分辨率的输出，在不同屏幕尺寸下的表现也类似。</p>
</div>
</section>
<section id="icon-link-shortcuts">
<h3>图标链接快捷键<a class="headerlink" href="#icon-link-shortcuts" title="永久链接至标题">#</a></h3>
<p>支持一些快捷方式来最小化常用服务的配置。这些可能会在未来的版本中被移除，以支持 <code class="docutils literal notranslate"><span class="pre">icon_links</span></code>：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;github_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/&lt;your-org&gt;/&lt;your-repo&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gitlab_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://gitlab.com/&lt;your-org&gt;/&lt;your-repo&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bitbucket_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://bitbucket.org/&lt;your-org&gt;/&lt;your-repo&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;twitter_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://twitter.com/&lt;your-handle&gt;&quot;</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>此外，这个菜单的屏幕阅读器可访问 label 可以配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;icon_links_label&quot;</span><span class="p">:</span> <span class="s2">&quot;Quick Links&quot;</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="adding-external-links-to-your-nav-bar">
<h2>添加外部链接到你的导航栏<a class="headerlink" href="#adding-external-links-to-your-nav-bar" title="永久链接至标题">#</a></h2>
<p>你可以在导航栏上添加外部链接。这些将显示在你的网站的主要链接的右边，并有一个小图标，表明他们指向一个外部网站。你可以像这样在导航栏上添加外部链接：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;external_links&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;link-one-name&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://&lt;link-one&gt;&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;link-two-name&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://&lt;link-two&gt;&quot;</span><span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="adding-favicons">
<h2>添加 favicon<a class="headerlink" href="#adding-favicons" title="永久链接至标题">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pydata_sphinx_theme</span></code> 支持 <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-html_favicon">标准的 sphinx favicon 配置</a>，使用’ html_favicon ‘ ‘</p>
<p>此外，<code class="docutils literal notranslate"><span class="pre">pydata_sphinx_theme</span></code> 允许您添加任意数量的浏览器或设备特定的任意大小的 favicon。要定义任意的 favicons，请使用 <code class="docutils literal notranslate"><span class="pre">favicons</span></code> 配置键。<code class="docutils literal notranslate"><span class="pre">href</span></code> 的值可以是绝对 URL（以 <code class="docutils literal notranslate"><span class="pre">http</span></code> 开头），也可以是相对于你的 <code class="docutils literal notranslate"><span class="pre">html_static_path</span></code> 的本地路径：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;favicons&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;rel&quot;</span><span class="p">:</span> <span class="s2">&quot;icon&quot;</span><span class="p">,</span>
         <span class="s2">&quot;sizes&quot;</span><span class="p">:</span> <span class="s2">&quot;16x16&quot;</span><span class="p">,</span>
         <span class="s2">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://secure.example.com/favicon/favicon-16x16.png&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;rel&quot;</span><span class="p">:</span> <span class="s2">&quot;icon&quot;</span><span class="p">,</span>
         <span class="s2">&quot;sizes&quot;</span><span class="p">:</span> <span class="s2">&quot;32x32&quot;</span><span class="p">,</span>
         <span class="s2">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;favicon-32x32.png&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;rel&quot;</span><span class="p">:</span> <span class="s2">&quot;apple-touch-icon&quot;</span><span class="p">,</span>
         <span class="s2">&quot;sizes&quot;</span><span class="p">:</span> <span class="s2">&quot;180x180&quot;</span><span class="p">,</span>
         <span class="s2">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;apple-touch-icon-180x180.png&quot;</span>
      <span class="p">},</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pydata_sphinx_theme</span></code> 将添加 <code class="docutils literal notranslate"><span class="pre">link</span></code> tag 到您的文档的 <code class="docutils literal notranslate"><span class="pre">head</span></code> 部分，遵循以下模式：</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">favicon.rel</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">sizes</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">favicon.sizes</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">favicon.href</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="configure-the-sidebar">
<span id="configure-sidebar"></span><h2>配置侧边栏<a class="headerlink" href="#configure-the-sidebar" title="永久链接至标题">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pydata_sphinx_theme</span></code> 默认情况下提供两个新的侧边栏项：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sidebar-nav-bs.html</span></code> —— 对 bootstrap 友好的导航</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">search-field.html</span></code> —— 对 bootstrap 友好的搜索栏</p></li>
</ul>
<p>默认情况下，这个主题的侧边栏中有这两个元素。如果您想重写此行为并在每个页面的基础上控制侧边栏，请使用 <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html?highlight=html_sidebars#confval-html_sidebars">Sphinx 配置值 html-sidebars</a>.</p>
</section>
<section id="navigation-depth-and-collapsing-the-sidebar">
<span id="navigation-depth"></span><h2>导航深度和折叠侧边栏<a class="headerlink" href="#navigation-depth-and-collapsing-the-sidebar" title="永久链接至标题">#</a></h2>
<p>默认情况下，这个主题允许在左侧导航栏中展开/折叠子部分（不需要实际导航到页面本身），这可以扩展到 4 级深度：</p>
<img alt="../_images/demo-expandable-navigation.gif" src="../_images/demo-expandable-navigation.gif" />
<section id="control-how-many-navigation-levels-are-shown-by-default">
<h3>控制默认显示多少个导航级别<a class="headerlink" href="#control-how-many-navigation-levels-are-shown-by-default" title="永久链接至标题">#</a></h3>
<p>您可以控制加载页面时显示多少个导航级别。默认情况下，这个级别是 1，只显示顶级页面，以及显示其子页面的下拉框。要在默认情况下显示它们的子节点，可以在 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> 中使用以下配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;show_nav_level&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
<p>这将使前两个导航默认显示（AKA，顶级页面及其直接子页面）。</p>
<section id="collapse-entire-toctree-captions-parts">
<h4>折叠整个 toctree captions / parts<a class="headerlink" href="#collapse-entire-toctree-captions-parts" title="永久链接至标题">#</a></h4>
<p>如果你的 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 元素有 caption 赋值（用 <code class="docutils literal notranslate"><span class="pre">:caption:</span></code>），你可以折叠导航项，使其只显示 caption。点击 caption 将显示下面的项。</p>
<p>要启用此行为，请将 <code class="docutils literal notranslate"><span class="pre">show_nav_level</span></code> 的值设置为 0，如下所示：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;show_nav_level&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
<p>你只能在 caption 下折叠你的 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 项，如果 caption 是为它们定义的！如果你的 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 没有定义 caption，那么它下面的所有页面都会显示出来（与默认的主题行为相同）。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>在一些 Sphinx 网站中，顶层的 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 分组组成了文档中的 “parts”，下面的每个页面组成了 “chapter”。</p>
</div>
</section>
</section>
<section id="selectively-remove-pages-from-your-sidebar">
<span id="remove-toctrees"></span><h3>有选择地从侧边栏删除页面<a class="headerlink" href="#selectively-remove-pages-from-your-sidebar" title="永久链接至标题">#</a></h3>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>这个和下面的部分对于有很多页面的站点是有用的（比如 API 文档有很多项）。由于所有的 toctree 链接，它们需要更长的时间来构建，并且会有更大的输出大小。这些部分帮助解决这个问题，从最小到最大的顺序。</p>
</div>
<p>你可以使用 Sphinx 插件 <a class="reference external" href="https://github.com/executablebooks/sphinx-remove-toctrees">sphinx-remove-toctrees</a> 来阻止页面显示在导航栏上。如果你的文档在文件夹中产生了很多“存根页面”，这是很有用的，这是 API 文档的常见用法。</p>
<p>这可以让你像这样添加配置：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">remove_from_toctrees</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;folder_one/generated/*&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>任何位于 <code class="docutils literal notranslate"><span class="pre">folder_one/generated/</span></code> 中的页面都不会显示在侧边栏中。</p>
<p>查看 <a class="reference external" href="https://github.com/executablebooks/sphinx-remove-toctrees#install">sphinx-remove-toctrees 文档</a>，了解如何安装和使用这个插件。</p>
</section>
<section id="control-the-number-of-navigation-levels">
<span id="navigation-levels"></span><h3>控制导航级别的数量<a class="headerlink" href="#control-the-number-of-navigation-levels" title="永久链接至标题">#</a></h3>
<p>此外，你还可以控制侧边栏中显示的导航级别（默认为 4 级）：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;navigation_depth&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="remove-reveal-buttons-for-sidebar-items">
<h3>删除侧边栏项目的显示按钮<a class="headerlink" href="#remove-reveal-buttons-for-sidebar-items" title="永久链接至标题">#</a></h3>
<p>可以通过设置 <code class="docutils literal notranslate"><span class="pre">collapse_navigation</span></code> 配置选项为 True 来完全关闭可扩展导航：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;collapse_navigation&quot;</span><span class="p">:</span> <span class="kc">True</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="hiding-the-previous-and-next-buttons">
<h2>隐藏上一页和下一页按钮<a class="headerlink" href="#hiding-the-previous-and-next-buttons" title="永久链接至标题">#</a></h2>
<p>默认情况下，网站的每个页面底部都有“上一页”和“下一页”按钮。你可以通过以下配置隐藏这些按钮：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;show_prev_next&quot;</span><span class="p">:</span> <span class="kc">False</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="add-a-dropdown-to-switch-between-docs-versions">
<h2>添加下拉菜单来切换文档版本<a class="headerlink" href="#add-a-dropdown-to-switch-between-docs-versions" title="永久链接至标题">#</a></h2>
<p>你可以在你的网站上添加按钮，允许用户在你的文档版本之间切换。版本 switcher 中的链接将根据文档的页面而有所不同。例如，在 <code class="docutils literal notranslate"><span class="pre">https://mysite.org/en/v2.0/changelog.html</span></code> 页面上，switcher 链接会跳转到其他版本文档中的 <code class="docutils literal notranslate"><span class="pre">changelog.html</span></code>。当点击时，switcher 会检查该页面是否存在，如果不存在，则重定向到那个文档版本的主页。</p>
<p>switcher 配置步骤如下：</p>
<ol class="arabic simple">
<li><p>添加 JSON 文件，其中包含 switcher 应该显示在每个页面上的文档版本列表。</p></li>
<li><p>将名为 <code class="docutils literal notranslate"><span class="pre">switcher</span></code> 的配置字典添加到 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">html_theme_options</span></code> 字典中。<code class="docutils literal notranslate"><span class="pre">switcher</span></code> 应该有 3 个键：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">json_url</span></code>：上面描述的 JSON 文件的持久位置。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version_match</span></code>：一个字符串，表示当前正在浏览的文档版本。</p></li>
</ul>
</li>
<li><p>指定在页面布局中放置 switcher 的位置。例如，添加 <code class="docutils literal notranslate"><span class="pre">&quot;version-switcher&quot;</span></code> 模板到 <code class="docutils literal notranslate"><span class="pre">html_theme_options</span></code> 中的布局列表中（例如 <code class="docutils literal notranslate"><span class="pre">navbar_end</span></code>， <code class="docutils literal notranslate"><span class="pre">footer_items</span></code> 等）。</p></li>
</ol>
<p>下面是对每个配置步骤的更深入的描述。</p>
<section id="add-a-json-file-to-define-your-switcher-s-versions">
<h3>添加 JSON 文件来定义 switcher 的版本<a class="headerlink" href="#add-a-json-file-to-define-your-switcher-s-versions" title="永久链接至标题">#</a></h3>
<p>首先，编写 JSON 文件，说明你的文档的哪个版本会在 switcher 的下拉菜单中列出。该文件应该包含条目列表，每个条目都可以有以下字段：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code>：版本字符串。这是对 <code class="docutils literal notranslate"><span class="pre">switcher['version_match']</span></code> 的检查，以提供样式给 switcher。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">url</span></code>：此版本的 URL。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>：在 switcher 下拉菜单中显示的可选名称，而不是版本字符串（例如，”latest”， “stable”， “dev” 等）。</p></li>
</ul>
<p>下面是一个示例 JSON 文件：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v2.1 (stable)&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://mysite.org/en/2.1/index.html&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.1rc1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://mysite.org/en/2.1rc1/index.html&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://mysite.org/en/2.0/index.html&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://mysite.org/en/1.0/index.html&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>查看下面关于 <code class="docutils literal notranslate"><span class="pre">switcher['json_url']</span></code> 的讨论，了解在哪里保存 JSON 文件的选项。</p>
</section>
<section id="configure-switcher-json-url">
<h3>配置 <code class="docutils literal notranslate"><span class="pre">switcher['json_url']</span></code><a class="headerlink" href="#configure-switcher-json-url" title="永久链接至标题">#</a></h3>
<p>JSON 文件需要处于一个稳定的、持久的、完全解析的 URL（即，不要指定为相对于当前文档构建的 Sphinx 根目录的路径）。文档的每个版本都应该指向相同的 URL，这样当新版本添加到 JSON 文件时，文档的所有旧版本都将获得链接到新版本的切换下拉条目。这可以通过几种不同的方式来实现</p>
<ul>
<li><p>这个位置可以总是与最近的文档构建相关联（也就是说，如果你的文档服务器别名是 “latest”，它可以指向 “latest” 版本构建树中的位置）。例如</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span><span class="p">,</span>
    <span class="s2">&quot;switcher&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;json_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://mysite.org/en/latest/_static/switcher.json&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>在这种情况下，JSON 与其他文档页面一起被版本化，但只有最近的版本才会被加载（即使是旧版本的文档）。</p>
</li>
<li><p>JSON 可以保存在您的站点的 <code class="docutils literal notranslate"><span class="pre">html_static_path</span></code> 配置下列出的文件夹中。有关更多信息，请参阅 <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-html_static_path">Sphinx 静态路径文档</a>。</p></li>
<li><p>JSON 可以存储在文档构建树之外。这可能意味着它将在软件 repo 之外，并要求您手动向 JSON 文件添加新版本条目，作为 release 过程的一部分。示例：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span><span class="p">,</span>
    <span class="s2">&quot;switcher&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;json_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://mysite.org/switcher.json&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="configure-switcher-version-match">
<h3>配置 <code class="docutils literal notranslate"><span class="pre">switcher['version_match']</span></code><a class="headerlink" href="#configure-switcher-version-match" title="永久链接至标题">#</a></h3>
<p>这个配置值告诉 switcher 当前正在查看哪个文档版本，并用于设置 switcher 的样式（例如，在 switcher 的下拉菜单中高亮显示当前文档版本，并更改显示在 switcher 按钮上的文本）。</p>
<p>通常你可以重用 sphinx 变量 <code class="docutils literal notranslate"><span class="pre">version</span></code> 或 <code class="docutils literal notranslate"><span class="pre">release</span></code> 中的一个作为 <code class="docutils literal notranslate"><span class="pre">switcher['version_match']</span></code> 的值；你使用哪一种取决于你的文档版本控制的粒度。参见 <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html#project-information">Sphinx “project info” 文档</a> 获取更多信息）。示例：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">version</span> <span class="o">=</span> <span class="n">my_package_name</span><span class="o">.</span><span class="n">__version__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;dev0&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>  <span class="c1"># may differ</span>
<span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span><span class="p">,</span>
    <span class="s2">&quot;switcher&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;version_match&quot;</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="specify-where-to-display-the-switcher">
<h3>指定显示 switcher 的位置<a class="headerlink" href="#specify-where-to-display-the-switcher" title="永久链接至标题">#</a></h3>
<p>最后，告诉主题，您希望 switcher 出现在站点页面的哪个位置。这里有很多选择：你可以添加 <code class="docutils literal notranslate"><span class="pre">&quot;version-switcher&quot;</span></code> 到 <code class="docutils literal notranslate"><span class="pre">html_theme_options</span></code> 中的一个位置（例如，<code class="docutils literal notranslate"><span class="pre">navbar_end</span></code>， <code class="docutils literal notranslate"><span class="pre">footer_items</span></code> 等）。例如：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="o">...</span><span class="p">,</span>
   <span class="s2">&quot;navbar_end&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;version-switcher&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>或者，您可以覆盖其他模板之一，在侧边栏中包含版本 switcher。例如，你可以将 <code class="docutils literal notranslate"><span class="pre">_templates/sidebar-nav-bs.html</span></code> 定义为：</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span>- <span class="k">include</span> <span class="s1">&#39;version-switcher.html&#39;</span> -<span class="cp">%}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nb">super</span><span class="o">()</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>在左边栏的顶部插入版本 switcher，同时在它的下方保持默认导航。更多信息请参阅 <a class="reference internal" href="sections.html"><span class="doc">从主题 sections 添加/删除项</span></a>。</p>
</section>
<section id="style-the-switcher-buttons">
<h3>switcher 按钮样式<a class="headerlink" href="#style-the-switcher-buttons" title="永久链接至标题">#</a></h3>
<p>你可以通过 CSS 应用样式到任何 switcher 按钮，以控制他们的外观和感觉。每个按钮都有两个 <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset">HTML 数据集条目</a>，可以用来将 CSS 规则应用到按钮的子集。这些条目是：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">-</span><span class="n">version</span>
<span class="n">data</span><span class="o">-</span><span class="n">version</span><span class="o">-</span><span class="n">name</span>
</pre></div>
</div>
<p>例如，带有 <code class="docutils literal notranslate"><span class="pre">version=&quot;0.2&quot;</span></code> 和 <code class="docutils literal notranslate"><span class="pre">name=&quot;My</span> <span class="pre">version&quot;</span></code> 的条目的链接会有这样的元数据：</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">data-version-name</span><span class="o">=</span><span class="s">&quot;My version&quot;</span> <span class="na">data-version</span><span class="o">=</span><span class="s">&quot;0.2&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;&lt;classes...&gt;&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>您可以像这样创建选择该元数据的 CSS 规则：</p>
<div class="highlight-scss notranslate"><div class="highlight"><pre><span></span><span class="c1">// Style all links with a specific subset of versions</span>
<span class="nn">#version_switcher</span><span class="w"> </span><span class="nt">a</span><span class="o">[</span><span class="nt">data-version</span><span class="o">=</span><span class="s2">&quot;0.2&quot;</span><span class="o">],</span><span class="w"></span>
<span class="nn">#version_switcher</span><span class="w"> </span><span class="nt">a</span><span class="o">[</span><span class="nt">data-version</span><span class="o">=</span><span class="s2">&quot;0.3&quot;</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="nt">background-color</span><span class="nd">:</span><span class="w"> </span><span class="nt">red</span><span class="o">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="c1">// Style all links with `stable` in the version name</span>
<span class="nn">#version_switcher</span><span class="w"> </span><span class="nt">a</span><span class="o">[</span><span class="nt">data-version-name</span><span class="o">*=</span><span class="s2">&quot;stable&quot;</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="nt">background-color</span><span class="nd">:</span><span class="w"> </span><span class="nt">green</span><span class="o">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>此外，下拉列表的父按钮包含类似的元数据关于 <strong>current version</strong>。这可以用于根据活动版本为整个下拉菜单设置特定的颜色。</p>
<p>例如，如果你想让下拉按钮的样式为橙色，如果它是 <code class="docutils literal notranslate"><span class="pre">dev</span></code> 版本，你可以使用以下 CSS 选择器：</p>
<div class="highlight-scss notranslate"><div class="highlight"><pre><span></span><span class="c1">// If the active version has the name &quot;dev&quot;, style it orange</span>
<span class="nn">#version_switcher_button</span><span class="o">[</span><span class="nt">data-active-version-name</span><span class="o">*=</span><span class="s2">&quot;dev&quot;</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="nt">background-color</span><span class="nd">:</span><span class="w"> </span><span class="nt">rgb</span><span class="o">(</span><span class="nt">255</span><span class="w"> </span><span class="nt">138</span><span class="w"> </span><span class="nt">62</span><span class="o">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>请参阅 <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset">MDN 文档上的 dataset 属性</a> 有关使用和样式化这些属性的更多信息。</p>
</div>
</section>
</section>
<section id="add-an-edit-this-page-button">
<h2>添加“编辑此页面”按钮<a class="headerlink" href="#add-an-edit-this-page-button" title="永久链接至标题">#</a></h2>
<p>你可以在每个页面上添加一个按钮，允许用户直接编辑页面文本，并提交 pull request 来更新文档。要将此按钮包含在每个页面的右侧栏中，请在 ‘html_theme_options’ 中将以下配置添加到 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> 文件中：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;use_edit_page_button&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>许多 provider 都可以用来构建 <em>Edit this Page</em> 链接，包括 GitHub、GitLab 和 Bitbucket。对于每个实例，默认的公共实例 URL 可以替换为自托管的实例。</p>
<section id="github">
<h3>GitHub<a class="headerlink" href="#github" title="永久链接至标题">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_context</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># &quot;github_url&quot;: &quot;https://github.com&quot;, # or your GitHub Enterprise interprise</span>
    <span class="s2">&quot;github_user&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your-github-org&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;github_repo&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your-github-repo&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;github_version&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your-branch&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;doc_path&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;path-from-root-to-your-docs&gt;&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="gitlab">
<h3>GitLab<a class="headerlink" href="#gitlab" title="永久链接至标题">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_context</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># &quot;gitlab_url&quot;: &quot;https://gitlab.com&quot;, # or your self-hosted GitLab</span>
    <span class="s2">&quot;gitlab_user&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your-gitlab-org&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gitlab_repo&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your-gitlab-repo&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gitlab_version&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your-branch&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;doc_path&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;path-from-root-to-your-docs&gt;&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="bitbucket">
<h3>Bitbucket<a class="headerlink" href="#bitbucket" title="永久链接至标题">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_context</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># &quot;bitbucket_url&quot;: &quot;https://bitbucket.org&quot;, # or your self-hosted Bitbucket</span>
    <span class="s2">&quot;bitbucket_user&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your-bitbucket-org&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bitbucket_repo&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your-bitbucket-repo&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bitbucket_version&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your-branch&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;doc_path&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;path-from-root-to-your-docs&gt;&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="custom-edit-url">
<h3>自定义编辑URL<a class="headerlink" href="#custom-edit-url" title="永久链接至标题">#</a></h3>
<p>对于完全定制的 <em>Edit this Page</em> URL，提供 <code class="docutils literal notranslate"><span class="pre">edit_page_url_template</span></code>，jinja2 模板字符串，必须包含 <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">file_name</span> <span class="pre">}}</span></code>，并可以引用任何其他上下文值。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_context</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;edit_page_url_template&quot;</span><span class="p">:</span> <span class="s2">&quot;{{ my_vcs_site }}{{ file_name }}{{ some_other_arg }}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;my_vcs_site&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;some_other_arg&quot;</span><span class="p">:</span> <span class="s2">&quot;?some-other-arg&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="configure-the-search-bar-position">
<h2>配置搜索栏位置<a class="headerlink" href="#configure-the-search-bar-position" title="永久链接至标题">#</a></h2>
<p>要修改搜索栏的位置，请将 <code class="docutils literal notranslate"><span class="pre">search-field.html</span></code> 模板添加到你的 <strong>sidebar</strong> 或 <strong>navbar</strong> 位置，这取决于你希望它被放置的位置。</p>
<p>例如，如果你想把搜索栏放在侧边栏，把它添加到侧边栏模板中，就像这样：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_sidebars</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;**&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;search-field.html&quot;</span><span class="p">,</span> <span class="s2">&quot;sidebar-nav-bs.html&quot;</span><span class="p">,</span> <span class="s2">&quot;sidebar-ethical-ads.html&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>如果你想把搜索栏放在顶部导航栏，使用下面的配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;navbar_end&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;navbar-icon-links.html&quot;</span><span class="p">,</span> <span class="s2">&quot;search-field.html&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>默认情况下，搜索栏位于侧边栏。如果你想把它移到导航栏，显式地在 <cite>html_sidebars</cite> 中定义一个侧边栏模板列表，省略 <cite>search-field.html</cite> 条目。</p>
</div>
</section>
<section id="configure-the-search-bar-text">
<h2>配置搜索栏文本<a class="headerlink" href="#configure-the-search-bar-text" title="永久链接至标题">#</a></h2>
<p>要在人们点击搜索栏之前修改它的文本，请在你的 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> 文件中添加以下配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;search_bar_text&quot;</span><span class="p">:</span> <span class="s2">&quot;Your text here...&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="google-analytics">
<h2>Google 分析<a class="headerlink" href="#google-analytics" title="永久链接至标题">#</a></h2>
<p>如果 <code class="docutils literal notranslate"><span class="pre">google_analytics_id</span></code> 配置选项被指定（像 <code class="docutils literal notranslate"><span class="pre">UA-XXXXXXX</span></code>），谷歌 Analytics’ javascript 包含在 html 页面中。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;google_analytics_id&quot;</span><span class="p">:</span> <span class="s2">&quot;UA-XXXXXXX&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="changing-pages-with-keyboard-presses">
<h2>用键盘按键改变页面<a class="headerlink" href="#changing-pages-with-keyboard-presses" title="永久链接至标题">#</a></h2>
<p>默认情况下，<code class="docutils literal notranslate"><span class="pre">pydata-sphinx-theme</span></code> 允许用户使用键盘上的左/右箭头键移动到上/下一页。要禁用此行为，请使用以下配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;navigation_with_keys&quot;</span><span class="p">:</span> <span class="kc">False</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="show-more-levels-of-the-in-page-toc-by-default">
<h2>默认情况下显示页内 TOC 的更多级别<a class="headerlink" href="#show-more-levels-of-the-in-page-toc-by-default" title="永久链接至标题">#</a></h2>
<p>通常情况下，只有第二级页眉才会显示在正确的目录中，而更深层的页眉只会显示在活动的部分中（当它在屏幕上滚动时）。</p>
<p>默认情况下，你可以通过使用以下配置显示更深的级别，表明应该显示多少级别：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;show_toc_level&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
<p>所有的标题，包括指定的级别，现在将显示，无论在页面上显示什么。</p>
</section>
<section id="remove-the-sidebar-from-some-pages">
<h2>从一些页面中删除侧边栏<a class="headerlink" href="#remove-the-sidebar-from-some-pages" title="永久链接至标题">#</a></h2>
<p>如果你想从页面中删除左边栏，你可以在 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> 中使用以下配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_sidebars</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;pagename&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>这也适用于 glob-style 的模式。例如：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_sidebars</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;folder/*&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>如果你想从文档的 <strong>所有</strong> 页中删除左边栏，请使用下面的模式：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_sidebars</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;**&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>关于配置侧边栏内容的信息，请参见 <a class="reference internal" href="#configure-sidebar"><span class="std std-ref">配置侧边栏</span></a>。</p>
</section>
<section id="configure-the-navbar-center-alignment">
<h2>配置导航栏居中对齐<a class="headerlink" href="#configure-the-navbar-center-alignment" title="永久链接至标题">#</a></h2>
<p>默认情况下，导航栏的中心区域将与页面上的内容对齐。这等于下面的默认配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="o">...</span>
   <span class="s2">&quot;navbar_align&quot;</span><span class="p">:</span> <span class="s2">&quot;content&quot;</span>
   <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>如果你想要这些项目对齐到左边（更靠近 logo），使用这个配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="o">...</span>
   <span class="s2">&quot;navbar_align&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span>
   <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>如果你想把这些项目对齐到页面右侧，请使用下面的配置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="o">...</span>
   <span class="s2">&quot;navbar_align&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span>
   <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="adding-ethical-advertisements-to-your-sidebar-in-readthedocs">
<h2>在 ReadTheDocs 的侧边栏添加 ethical 广告<a class="headerlink" href="#adding-ethical-advertisements-to-your-sidebar-in-readthedocs" title="永久链接至标题">#</a></h2>
<p>如果你把你的文档放在 ReadTheDocs 上，你应该考虑为他们的 <strong>ethical advertisements</strong> 添加明确的位置。这些都是来自有 ethical 的公司的非追踪广告，它们帮助 ReadTheDocs 维持自己和他们的免费服务。</p>
<p>Ethical 广告会默认添加到你的侧边栏。如果你手动更新你的侧边栏，为了确保它们存在，请确保 <code class="docutils literal notranslate"><span class="pre">sidebar-ethical-ads.html</span></code> 模板已经添加到你的列表中。例如：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_sidebars</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;**&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;search-field.html&quot;</span><span class="p">,</span> <span class="s2">&quot;sidebar-nav-bs.html&quot;</span><span class="p">,</span> <span class="s2">&quot;sidebar-ethical-ads.html&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="improve-build-speed-and-performance">
<h2>提高构建速度和性能<a class="headerlink" href="#improve-build-speed-and-performance" title="永久链接至标题">#</a></h2>
<p>默认情况下，这个主题在可折叠的侧边栏中包含所有的文档链接。但是，如果您有很多文档页面，这可能会大大降低您的文档构建速度。这是最常见的文档项目与大型 API，使用 <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">autosummary::</span></code> 指令生成 API 文档。</p>
<p>在这些情况下，要提高构建的性能，请参阅 <a class="reference internal" href="#navigation-depth"><span class="std std-ref">导航深度和折叠侧边栏</span></a>。</p>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="install.html" title="上一页 页">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">上一页</p>
            <p class="prev-next-title">安装</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="sections.html" title="下一页 页">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">下一页</p>
        <p class="prev-next-title">从主题 sections 添加/删除项</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=fb52004a9691e5b75515"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2019, PyData Community.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>